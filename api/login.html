<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <script src="api.js"></script>
</head>
<body style="color: white">
Please enter your password to authenticate this Soci session.
<br><br>
<form id="loginForm" method="post" onsubmit="return obtainAuthenticationToken(this)">
    <label>Password:</label>
    <input type="password" name="password">
    <br><br>
    <input id="loginSubmit" type="submit" value="Authenticate" onclick="setTimeout(() => {resetOutput()}, 3000)">
    <br>
    <p id="loginOutput" style="color: yellow"></p>
</form>
<script type="text/javascript">
    readAuthenticationCookie((error, token) => {
        if (token) document.location = 'api.html';
    });

    function resetOutput() {
        document.getElementById('loginOutput').innerText = "";
    }
</script>
</body>
</html>
